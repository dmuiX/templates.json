{
  "version": "2",
  "templates": [
    {
      "type": 1,
      "title": "Confluence",
      "description": "Confluence latest with OpenJDK",
      "logo": "https://icons8.com/icon/gYRR6rys6REq/confluence",
      "platform": "linux",
      "hostname": "confluence",
      "categories": [
        "wiki",
        "atlassian",
        "confluence"
      ],
      "image": "atlassian/confluence-server:latest",
      "ports": ["8090:8090/tcp", "8091:8091/tcp"],
      "volumes": [
        {
          "container": "/var/atlassian/application-data/confluence"
        }
      ],
      "network": "bridge",
      "env": [
        {
          "name": "VIRTUAL_HOST",
          "label": "VIRTUAL_HOST: Public URL of the application (mandatory)",
          "description": "The public URL of the application used to configure the reverse proxy"
        },
        {
          "name": "VIRTUAL_PORT",
          "label": "Port of the application to proxy (mandatory)",
          "default": "8090",
          "preset": true
        },
        {
          "name": "LETSENCRYPT_HOST",
          "label": "LETSENCRYPT_HOST: Public URL of the application (mandatory and same as above)",
          "description": "The public URL of the application used to issue a Let's Encrypt certificate"
        },
        {
          "name": "CONFLUENCE_PROXY_NAME",
          "label": "CONFLUENCE_PROXY_NAME: Public URL of the application (mandatory and same as above)",
          "description": "The public URL of the application used to configure the Tomcat connector"
        },
        {
          "name": "CONFLUENCE_PROXY_PORT",
          "label": "Public port of the application (mandatory)",
          "default": "443",
          "preset": true
        },
        {
          "name": "CONFLUENCE_PROXY_SCHEME",
          "label": "Public scheme of the application (mandatory)",
          "default": "https",
          "preset": true
        },
        {
          "name": "ATL_JDBC_PASSWORD",
          "label": "Database Password",
          "default": "postGRES",
          "preset": true
        },
        {
          "name": "ATL_JDBC_URL",
          "label": "Database connection string",
          "default": "jdbc:postgresql://db:5432/confluence",
          "preset": true
        },
        {
          "name": "ATL_JDBC_USER",
          "label": "Database User",
          "default": "confluence",
          "preset": true
        }
      ]
    },
    {
      "type": 1,
      "title": "PostgreSQL 14 confluence",
      "description": "The most advanced open-source database",
      "logo": "https://portainer-io-assets.sfo2.digitaloceanspaces.com/logos/postgres.png",
      "platform": "linux",
      "hostname": "db",
      "categories": [
        "database",
        "sql-database",
        "postgresql"
      ],
      "image": "postgres:14",
      "ports": ["5432:5432/tcp"],
      "volumes": [
        {
          "container": "/var/lib/postgresql/data"
        }
      ],
      "network": "bridge",
      "env": [
        {
          "name": "POSTGRES_DB",
          "label": "Name of the application database",
          "select": [
            {
              "text": "Do you want to deploy a Confluence Instance?",
              "value": "confluence",
              "default": true
            },
            {
              "text": "Do you want to deploy a Jira Instance?",
              "value": "jira"
            }
          ]
        },
        {
          "name": "POSTGRES_USER",
          "label": "Name of the database user (mandatory)",
          "select": [
            {
              "text": "Confluence?",
              "value": "confluence",
              "default": true
            },
            {
              "text": "Jira?",
              "value": "jira"
            }
          ]
        },
        {
          "name": "POSTGRES_PASSWORD",
          "label": "Password of the database user (mandatory)",
          "default": "postGRES",
          "preset": true
        }
      ]
    }
  ]
}
